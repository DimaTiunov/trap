import{d as C,x,c as k,H as g,I as A,z as H,J as B,K as $,o as f,a as m,A as w,u as F,s as u,B as M,L as b,y as N,M as E,b as v,F as J,r as O,N as _}from"./entry.4e4f04b8.js";const y=Symbol("addTab"),S=Symbol("updateTab"),D=Symbol("deleteTab"),T=Symbol("tabsProvider");function h(s,r){const a=_(s,r);if(typeof a>"u")throw new Error(`Could not resolve ${s.description}`);return a}const j=["data-tab-id","aria-hidden"],P=C({__name:"Tab",props:{panelClass:{type:String,default:"tabs-component-panel"},id:{type:String,default:null},name:{type:String,required:!0},prefix:{type:String,default:""},suffix:{type:String,default:""},isDisabled:{type:Boolean,default:!1}},setup(s,{expose:r}){const a=s,i=x(!1),t=h(T),o=h(y),p=h(S),l=h(D),n=a.prefix+a.name+a.suffix,e=a.id?a.id:a.name.toLowerCase().replace(/ /g,"-"),d=e+"-pane",c=k(()=>"#"+(a.isDisabled?"":e));return g(()=>t.activeTabHash,()=>{i.value=c.value===t.activeTabHash}),g(()=>Object.assign({},a),()=>{p(e,{name:a.name,header:a.prefix+a.name+a.suffix,isDisabled:a.isDisabled,hash:c.value,index:t.tabs.length,computedId:e,paneId:d})}),A(()=>{o({name:a.name,header:n,isDisabled:a.isDisabled,hash:c.value,index:t.tabs.length,computedId:e,paneId:d})}),H(()=>{l(e)}),r({header:n,computedId:e,paneId:d,hash:c,isActive:i}),(L,U)=>B((f(),m("section",{ref:"tab",id:d,"data-tab-id":F(e),"aria-hidden":!i.value,class:u(s.panelClass),role:"tabpanel"},[w(L.$slots,"default")],10,j)),[[$,i.value]])}});class q{get(r){const a=localStorage.getItem(r);if(a===null)return null;const i=JSON.parse(a);return i?new Date(i.expires)<new Date?(localStorage.removeItem(r),null):i.value:null}set(r,a,i){const t=new Date().getTime(),o=new Date(t+i*6e4);localStorage.setItem(r,JSON.stringify({value:a,expires:o}))}}const I=new q,z=["aria-controls","aria-selected","href","onClick","innerHTML"],K=C({__name:"Tabs",props:{cacheLifetime:{type:Number,default:5},options:{type:Object,required:!1,default:()=>({useUrlFragment:!0,defaultTabHash:null})},wrapperClass:{type:String,default:"tabs-component"},panelsWrapperClass:{type:String,default:"tabs-component-panels"},navClass:{type:String,default:"tabs-component-tabs"},navItemClass:{type:String,default:"tabs-component-tab"},navItemDisabledClass:{type:String,default:"is-disabled"},navItemActiveClass:{type:String,default:"is-active"},navItemInactiveClass:{type:String,default:"is-inactive"},navItemLinkClass:{type:String,default:"tabs-component-tab-a"},navItemLinkActiveClass:{type:String,default:"is-active"},navItemLinkInactiveClass:{type:String,default:"is-inactive"},navItemLinkDisabledClass:{type:String,default:"is-disabled"}},emits:["changed","clicked"],setup(s,{expose:r,emit:a}){const i=s,t=M({activeTabHash:"",lastActiveTabHash:"",tabs:[]});b(T,t),b(y,l=>{t.tabs.push(l)}),b(S,(l,n)=>{const e=t.tabs.findIndex(d=>d.computedId===l);n.isActive=t.tabs[e].isActive,t.tabs[e]=n}),b(D,l=>{const n=t.tabs.findIndex(e=>e.computedId===l);t.tabs.splice(n,1)});const o=(l,n)=>{n&&!i.options.useUrlFragment&&n.preventDefault();const e=p(l);if(!e)return;if(n&&e.isDisabled){n.preventDefault();return}if(t.lastActiveTabHash===e.hash){a("clicked",{tab:e});return}if(t.tabs.forEach(c=>{c.isActive=c.hash===e.hash}),a("changed",{tab:e}),t.lastActiveTabHash=t.activeTabHash=e.hash,i.cacheLifetime<=0)return;const d=`vue-tabs-component.cache.${window.location.host}${window.location.pathname}`;I.set(d,e.hash,i.cacheLifetime)},p=l=>t.tabs.find(n=>n.hash===l);return N(()=>{if(t.tabs.length){if(window.addEventListener("hashchange",()=>o(window.location.hash)),p(window.location.hash)){o(window.location.hash);return}if(i.cacheLifetime>0){const l=`vue-tabs-component.cache.${window.location.host}${window.location.pathname}`,n=I.get(l);if(n!==null&&p(n)){o(n);return}if(i.options.defaultTabHash&&p("#"+i.options.defaultTabHash)){o("#"+i.options.defaultTabHash);return}}o(t.tabs[0].hash)}}),r({...E(t),selectTab:o,findTab:p}),(l,n)=>(f(),m("div",{class:u(s.wrapperClass)},[v("ul",{role:"tablist",class:u(s.navClass)},[(f(!0),m(J,null,O(t.tabs,(e,d)=>(f(),m("li",{key:d,class:u([s.navItemClass,e.isDisabled?s.navItemDisabledClass:"",e.isActive?s.navItemActiveClass:e.isDisabled?"":s.navItemInactiveClass]),role:"presentation"},[v("a",{role:"tab",class:u([s.navItemLinkClass,e.isDisabled?s.navItemLinkDisabledClass:"",e.isActive?s.navItemLinkActiveClass:e.isDisabled?"":s.navItemLinkInactiveClass]),"aria-controls":e.paneId,"aria-selected":e.isActive,href:e.hash,onClick:c=>o(e.hash,c),innerHTML:e.header},null,10,z)],2))),128))],2),v("div",{class:u(s.panelsWrapperClass)},[w(l.$slots,"default")],2)],2))}});export{P,K as W};
