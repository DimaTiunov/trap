import{I as D,d as ze,h as ke,b as ve,e as Be,_ as Q,p as De,c as Ae}from"./layout-sidebar.vue.577823f4.js";import{d as w,c as P,o as l,a as m,b as d,u as c,F,r as V,t as h,h as $,f as v,_ as k,s as G,g as y,x as W,I as Fe,y as Ce,z as Ve,A as je,l as A,R as He,Y as qe,w as g,e as S,Z as M,p as X,i as Z,$ as Ee,a0 as Ne,n as We,q as Ge,P as ie,m as ee}from"./entry.4e4f04b8.js";import{P as Je}from"./page-header.ea40bc1c.js";import{u as Ke}from"./use-http-dump.1af01bb8.js";import{I as Qe,u as Xe}from"./use-inspector.6ad0ed7b.js";import{C as K}from"./code-snippet.3d5b5a27.js";import{S as Ze,u as Ye}from"./use-profiler.584d5d56.js";import{T as O,a as Y}from"./table-base.d6e8d5bf.js";import{S as et,u as tt}from"./sentry-exception.567b1482.js";import{u as nt}from"./use-smtp.76f42c91.js";import"./use-formats.c79ce0bd.js";function st(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const s=document.implementation.createHTMLDocument(),n=s.createElement("base"),a=s.createElement("a");return s.head.appendChild(n),s.body.appendChild(a),t&&(n.href=t),a.href=e,a.href}const at=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function j(e){const t=[];for(let s=0,n=e.length;s<n;s++)t.push(e[s]);return t}function ne(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function ot(e){const t=ne(e,"border-left-width"),s=ne(e,"border-right-width");return e.clientWidth+t+s}function rt(e){const t=ne(e,"border-top-width"),s=ne(e,"border-bottom-width");return e.clientHeight+t+s}function Pe(e,t={}){const s=t.width||ot(e),n=t.height||rt(e);return{width:s,height:n}}function it(){let e,t;try{t=process}catch{}const s=t&&t.env?t.env.devicePixelRatio:null;return s&&(e=parseInt(s,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const B=16384;function lt(e){(e.width>B||e.height>B)&&(e.width>B&&e.height>B?e.width>e.height?(e.height*=B/e.width,e.width=B):(e.width*=B/e.height,e.height=B):e.width>B?(e.height*=B/e.width,e.width=B):(e.width*=B/e.height,e.height=B))}function ct(e,t={}){return e.toBlob?new Promise(s=>{e.toBlob(s,t.type?t.type:"image/png",t.quality?t.quality:1)}):new Promise(s=>{const n=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),a=n.length,o=new Uint8Array(a);for(let r=0;r<a;r+=1)o[r]=n.charCodeAt(r);s(new Blob([o],{type:t.type?t.type:"image/png"}))})}function se(e){return new Promise((t,s)=>{const n=new Image;n.decode=()=>t(n),n.onload=()=>t(n),n.onerror=s,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function ut(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function dt(e,t,s){const n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg"),o=document.createElementNS(n,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${s}`),a.setAttribute("viewBox",`0 0 ${t} ${s}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),a.appendChild(o),o.appendChild(e),ut(a)}const z=(e,t)=>{if(e instanceof t)return!0;const s=Object.getPrototypeOf(e);return s===null?!1:s.constructor.name===t.name||z(s,t)};function pt(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function _t(e){return j(e).map(t=>{const s=e.getPropertyValue(t),n=e.getPropertyPriority(t);return`${t}: ${s}${n?" !important":""};`}).join(" ")}function mt(e,t,s){const n=`.${e}:${t}`,a=s.cssText?pt(s):_t(s);return document.createTextNode(`${n}{${a}}`)}function fe(e,t,s){const n=window.getComputedStyle(e,s),a=n.getPropertyValue("content");if(a===""||a==="none")return;const o=at();try{t.className=`${t.className} ${o}`}catch{return}const r=document.createElement("style");r.appendChild(mt(o,s,n)),t.appendChild(r)}function vt(e,t){fe(e,t,":before"),fe(e,t,":after")}const he="application/font-woff",ge="image/jpeg",ft={woff:he,woff2:he,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:ge,jpeg:ge,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function ht(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function ue(e){const t=ht(e).toLowerCase();return ft[t]||""}function gt(e){return e.split(/,/)[1]}function ce(e){return e.search(/^(data:)/)!==-1}function Se(e,t){return`data:${t};base64,${e}`}async function Le(e,t,s){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const a=await n.blob();return new Promise((o,r)=>{const i=new FileReader;i.onerror=r,i.onloadend=()=>{try{o(s({res:n,result:i.result}))}catch(p){r(p)}},i.readAsDataURL(a)})}const le={};function yt(e,t,s){let n=e.replace(/\?.*/,"");return s&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function de(e,t,s){const n=yt(e,t,s.includeQueryParams);if(le[n]!=null)return le[n];s.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const o=await Le(e,s.fetchRequestInit,({res:r,result:i})=>(t||(t=r.headers.get("Content-Type")||""),gt(i)));a=Se(o,t)}catch(o){a=s.imagePlaceholder||"";let r=`Failed to fetch resource: ${e}`;o&&(r=typeof o=="string"?o:o.message),r&&console.warn(r)}return le[n]=a,a}async function wt(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):se(t)}async function bt(e,t){if(e.currentSrc){const o=document.createElement("canvas"),r=o.getContext("2d");o.width=e.clientWidth,o.height=e.clientHeight,r==null||r.drawImage(e,0,0,o.width,o.height);const i=o.toDataURL();return se(i)}const s=e.poster,n=ue(s),a=await de(s,n,t);return se(a)}async function $t(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await oe(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function kt(e,t){return z(e,HTMLCanvasElement)?wt(e):z(e,HTMLVideoElement)?bt(e,t):z(e,HTMLIFrameElement)?$t(e):e.cloneNode(!1)}const Ct=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function Et(e,t,s){var n,a;let o=[];return Ct(e)&&e.assignedNodes?o=j(e.assignedNodes()):z(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?o=j(e.contentDocument.body.childNodes):o=j(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),o.length===0||z(e,HTMLVideoElement)||await o.reduce((r,i)=>r.then(()=>oe(i,s)).then(p=>{p&&t.appendChild(p)}),Promise.resolve()),t}function Pt(e,t){const s=t.style;if(!s)return;const n=window.getComputedStyle(e);n.cssText?(s.cssText=n.cssText,s.transformOrigin=n.transformOrigin):j(n).forEach(a=>{let o=n.getPropertyValue(a);a==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),z(e,HTMLIFrameElement)&&a==="display"&&o==="inline"&&(o="block"),a==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),s.setProperty(a,o,n.getPropertyPriority(a))})}function St(e,t){z(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),z(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Lt(e,t){if(z(e,HTMLSelectElement)){const s=t,n=Array.from(s.children).find(a=>e.value===a.getAttribute("value"));n&&n.setAttribute("selected","")}}function Rt(e,t){return z(t,Element)&&(Pt(e,t),vt(e,t),St(e,t),Lt(e,t)),t}async function It(e,t){const s=e.querySelectorAll?e.querySelectorAll("use"):[];if(s.length===0)return e;const n={};for(let o=0;o<s.length;o++){const i=s[o].getAttribute("xlink:href");if(i){const p=e.querySelector(i),E=document.querySelector(i);!p&&E&&!n[i]&&(n[i]=await oe(E,t,!0))}}const a=Object.values(n);if(a.length){const o="http://www.w3.org/1999/xhtml",r=document.createElementNS(o,"svg");r.setAttribute("xmlns",o),r.style.position="absolute",r.style.width="0",r.style.height="0",r.style.overflow="hidden",r.style.display="none";const i=document.createElementNS(o,"defs");r.appendChild(i);for(let p=0;p<a.length;p++)i.appendChild(a[p]);e.appendChild(r)}return e}async function oe(e,t,s){return!s&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>kt(n,t)).then(n=>Et(e,n,t)).then(n=>Rt(e,n)).then(n=>It(n,t))}const Re=/url\((['"]?)([^'"]+?)\1\)/g,xt=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Tt=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Ot(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Ut(e){const t=[];return e.replace(Re,(s,n,a)=>(t.push(a),s)),t.filter(s=>!ce(s))}async function Mt(e,t,s,n,a){try{const o=s?st(t,s):t,r=ue(t);let i;if(a){const p=await a(o);i=Se(p,r)}else i=await de(o,r,n);return e.replace(Ot(t),`$1${i}$3`)}catch{}return e}function zt(e,{preferredFontFormat:t}){return t?e.replace(Tt,s=>{for(;;){const[n,,a]=xt.exec(s)||[];if(!a)return"";if(a===t)return`src: ${n};`}}):e}function Ie(e){return e.search(Re)!==-1}async function xe(e,t,s){if(!Ie(e))return e;const n=zt(e,s);return Ut(n).reduce((o,r)=>o.then(i=>Mt(i,r,t,s)),Promise.resolve(n))}async function te(e,t,s){var n;const a=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(a){const o=await xe(a,null,s);return t.style.setProperty(e,o,t.style.getPropertyPriority(e)),!0}return!1}async function Bt(e,t){await te("background",e,t)||await te("background-image",e,t),await te("mask",e,t)||await te("mask-image",e,t)}async function Dt(e,t){const s=z(e,HTMLImageElement);if(!(s&&!ce(e.src))&&!(z(e,SVGImageElement)&&!ce(e.href.baseVal)))return;const n=s?e.src:e.href.baseVal,a=await de(n,ue(n),t);await new Promise((o,r)=>{e.onload=o,e.onerror=r;const i=e;i.decode&&(i.decode=o),i.loading==="lazy"&&(i.loading="eager"),s?(e.srcset="",e.src=a):e.href.baseVal=a})}async function At(e,t){const n=j(e.childNodes).map(a=>Te(a,t));await Promise.all(n).then(()=>e)}async function Te(e,t){z(e,Element)&&(await Bt(e,t),await Dt(e,t),await At(e,t))}function Ft(e,t){const{style:s}=e;t.backgroundColor&&(s.backgroundColor=t.backgroundColor),t.width&&(s.width=`${t.width}px`),t.height&&(s.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(a=>{s[a]=n[a]}),e}const ye={};async function we(e){let t=ye[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},ye[e]=t,t}async function be(e,t){let s=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,o=(s.match(/url\([^)]+\)/g)||[]).map(async r=>{let i=r.replace(n,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),Le(i,t.fetchRequestInit,({result:p})=>(s=s.replace(r,`url(${p})`),[r,p]))});return Promise.all(o).then(()=>s)}function $e(e){if(e==null)return[];const t=[],s=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(s,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const p=a.exec(n);if(p===null)break;t.push(p[0])}n=n.replace(a,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,r="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",i=new RegExp(r,"gi");for(;;){let p=o.exec(n);if(p===null){if(p=i.exec(n),p===null)break;o.lastIndex=i.lastIndex}else i.lastIndex=o.lastIndex;t.push(p[0])}return t}async function Vt(e,t){const s=[],n=[];return e.forEach(a=>{if("cssRules"in a)try{j(a.cssRules||[]).forEach((o,r)=>{if(o.type===CSSRule.IMPORT_RULE){let i=r+1;const p=o.href,E=we(p).then(C=>be(C,t)).then(C=>$e(C).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?i+=1:a.cssRules.length)}catch(L){console.error("Error inserting rule from remote css",{rule:f,error:L})}})).catch(C=>{console.error("Error loading remote css",C.toString())});n.push(E)}})}catch(o){const r=e.find(i=>i.href==null)||document.styleSheets[0];a.href!=null&&n.push(we(a.href).then(i=>be(i,t)).then(i=>$e(i).forEach(p=>{r.insertRule(p,a.cssRules.length)})).catch(i=>{console.error("Error loading remote stylesheet",i)})),console.error("Error inlining remote css file",o)}}),Promise.all(n).then(()=>(e.forEach(a=>{if("cssRules"in a)try{j(a.cssRules||[]).forEach(o=>{s.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${a.href}`,o)}}),s))}function jt(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Ie(t.style.getPropertyValue("src")))}async function Ht(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const s=j(e.ownerDocument.styleSheets),n=await Vt(s,t);return jt(n)}async function qt(e,t){const s=await Ht(e,t);return(await Promise.all(s.map(a=>{const o=a.parentStyleSheet?a.parentStyleSheet.href:null;return xe(a.cssText,o,t)}))).join(`
`)}async function Nt(e,t){const s=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await qt(e,t);if(s){const n=document.createElement("style"),a=document.createTextNode(s);n.appendChild(a),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function Wt(e,t={}){const{width:s,height:n}=Pe(e,t),a=await oe(e,t,!0);return await Nt(a,t),await Te(a,t),Ft(a,t),await dt(a,s,n)}async function Oe(e,t={}){const{width:s,height:n}=Pe(e,t),a=await Wt(e,t),o=await se(a),r=document.createElement("canvas"),i=r.getContext("2d"),p=t.pixelRatio||it(),E=t.canvasWidth||s,C=t.canvasHeight||n;return r.width=E*p,r.height=C*p,t.skipAutoScale||lt(r),r.style.width=`${E}`,r.style.height=`${C}`,t.backgroundColor&&(i.fillStyle=t.backgroundColor,i.fillRect(0,0,r.width,r.height)),i.drawImage(o,0,0,r.width,r.height),r}async function Gt(e,t={}){return(await Oe(e,t)).toDataURL()}async function Jt(e,t={}){const s=await Oe(e,t);return await ct(s)}const Kt={class:"preview-card-footer"},Qt={class:"preview-card-footer__tags"},Xt={class:"preview-card-footer__tag-key"},Zt={class:"preview-card-footer__tag-value"},Yt={key:0,class:"preview-card-footer__host"},en={class:"preview-card-footer__host-name"},tn=w({__name:"preview-card-footer",props:{serverName:{default:""},originConfig:{default:null}},setup(e){const t=e,s={php_version:"php",laravel_version:"laravel",symfony_version:"symfony",line_number:"line",hostname:"host",environment:"env"};let n=P(()=>t.originConfig?Object.entries(t.originConfig).reduce((a,[o,r])=>{if(!r||r==="undefined")return a;const i=s[o]||o;return a[i]=r,a},{}):{});return(a,o)=>(l(),m("div",Kt,[d("div",Qt,[c(n)?(l(!0),m(F,{key:0},V(c(n),(r,i)=>(l(),m("div",{key:i,class:"preview-card-footer__tag"},[d("span",Xt,h(i)+":",1),d("span",Zt,h(r),1)]))),128)):$("",!0)]),a.serverName?(l(),m("div",Yt,[v(c(D),{name:"host",class:"preview-card-footer__host-icon"}),d("span",en,h(a.serverName),1)])):$("",!0)]))}}),nn=k(tn,[["__scopeId","data-v-657611bb"]]);var ae=(e=>(e.File="file",e.Image="image",e))(ae||{});const sn={class:"preview-card-header"},an={class:"preview-card-header__tags"},on=["href"],rn={key:0,class:"preview-card-header__buttons"},ln={class:"preview-card-header__buttons-expand"},cn={class:"preview-card-header__buttons-expand-list"},un=["disabled"],dn=w({__name:"preview-card-header",props:{eventType:{},eventId:{},eventUrl:{default:""},tags:{default:()=>[]},isOpen:{type:Boolean},isLocked:{type:Boolean},isVisibleControls:{type:Boolean}},emits:["delete","toggleView","copy","download","lock"],setup(e,{emit:t}){const s=e,n=()=>{t("toggleView",!0)},a=()=>{t("delete",!0)},o=()=>{t("copy",!0)},r=()=>{t("download",ae.Image)},i=()=>{t("download",ae.File)},p=()=>{t("lock",!0)},E=P(()=>s.tags.length>0);return(C,f)=>(l(),m("div",sn,[d("div",an,[C.eventUrl?(l(),m("a",{key:0,href:C.eventUrl,target:"_blank",class:"preview-card-header__tag preview-card-header__tag--json",title:"Open JSON payload for this event in new tab"}," JSON ",8,on)):$("",!0),E.value?(l(!0),m(F,{key:1},V(C.tags,L=>(l(),m("div",{key:L,ref_for:!0,ref:"tags",class:G(["preview-card-header__tag",`preview-card-header__tag--${C.eventType}`])},h(L),3))),128)):$("",!0)]),C.isVisibleControls?(l(),m("div",rn,[d("div",ln,[d("button",{class:"preview-card-header__button preview-card-header__button--copy",title:"Copy event as PNG image to clipboard",onClick:o},[v(c(D),{name:"copy",class:"preview-card-header__button-icon"})]),d("div",cn,[d("button",{class:"preview-card-header__button preview-card-header__button--copy",title:"Download event as JSON file",onClick:i},[v(c(D),{name:"file-download",class:"preview-card-header__button-icon"})]),d("button",{class:"preview-card-header__button preview-card-header__button--copy",onClick:r,title:"Download event as PNG image"},[v(c(D),{name:"image-download",class:"preview-card-header__button-icon"})])])]),d("button",{class:G(["preview-card-header__button preview-card-header__button--collapse",{"preview-card-header__button--collapse-closed":!C.isOpen}]),title:"Collapse event",onClick:n},[C.isOpen?(l(),y(c(D),{key:0,name:"minus",class:"preview-card-header__button-icon"})):$("",!0),C.isOpen?$("",!0):(l(),y(c(D),{key:1,name:"plus",class:"preview-card-header__button-icon"}))],2),d("button",{class:G(["preview-card-header__button preview-card-header__button--lock",{"preview-card-header__button--locked":C.isLocked}]),title:"Lock event. Locked events will not be deleted",onClick:p},[v(c(D),{name:"lock",class:"preview-card-header__button-icon"})],2),d("button",{class:"preview-card-header__button preview-card-header__button--delete",title:"Delete event",disabled:C.isLocked,onClick:a},[v(c(D),{name:"times",class:"preview-card-header__button-icon"})],8,un)])):$("",!0)]))}}),pn=k(dn,[["__scopeId","data-v-a6f259ea"]]),_n=["id"],mn={key:0,ref:"event_body",class:"preview-card__body"},vn=w({__name:"preview-card",props:{event:{}},setup(e){const t=e,s=W(!1),n=W(!1),a=W(!1),o=W(!0),r=W(null),i=P(()=>[ke(t.event.date).format("HH:mm:ss"),...t.event.labels]),p=P(()=>{const u=Object.entries(t.event.origin||{}).map(([T,J])=>[T,String(J)]).filter(([T,J])=>!!J);return u.length>0?Object.fromEntries(u):null}),E=P(()=>`${He}/api/event/${t.event.id}`),C=()=>{s.value=!s.value},f=(u=!0)=>{o.value=u},L=()=>{const{$events:u}=A();return u==null?void 0:u.removeById(t.event.id)},N=()=>{const{$lockedIds:u}=A();((u==null?void 0:u.items.value)||[]).includes(t.event.id)?(u==null||u.remove(t.event.id),n.value=!1):(u==null||u.add(t.event.id),n.value=!0)},R=()=>{f(!1),r.value&&Gt(r.value).then(u=>{ve(u,`${t.event.type}-${t.event.id}.png`)}).catch(u=>console.error(u)).finally(()=>{f(!0)})},_=async()=>{const{$events:u}=A();if(u)try{const T=await u.getItem(t.event.id);T&&ve(JSON.stringify(T,null,2),`${t.event.type}-${t.event.id}.json`,"application/json")}catch(T){console.error(T)}},b=u=>{u===ae.Image?R():_()},U=()=>{f(!1),r.value&&Jt(r.value).then(u=>{u&&navigator.clipboard.write([new ClipboardItem({[u.type]:u})])}).catch(u=>console.error(u)).finally(()=>{f(!0)})},x=ze(()=>{if(r.value){const u=r.value,{top:T,height:J}=u.getBoundingClientRect(),_e=J,me=T-_e<=window.innerHeight&&T+J+_e*2>=0;!me&&!a.value?(a.value=!0,u.style.height=`${u.clientHeight}px`):me&&a.value&&(a.value=!1,u.style.height="auto")}},30);return Fe(()=>{const{$lockedIds:{items:u}}=A();n.value=u.value.includes(t.event.id)}),Ce(()=>{window.addEventListener("scroll",x)}),Ve(()=>{window.removeEventListener("scroll",x)}),(u,T)=>(l(),m("div",{id:u.event.id,ref_key:"eventRef",ref:r,class:G(["preview-card",{"preview-card--collapsed":s.value}])},[v(pn,{class:"preview-card__header","event-url":E.value,"event-type":u.event.type,"event-id":u.event.id,tags:i.value,"is-open":!s.value&&!a.value,"is-locked":n.value,"is-visible-controls":o.value&&!a.value,onToggleView:C,onDelete:L,onCopy:U,onDownload:b,onLock:N},null,8,["event-url","event-type","event-id","tags","is-open","is-locked","is-visible-controls"]),!s.value&&!a.value?(l(),m("div",mn,[je(u.$slots,"default",{},void 0,!0)],512)):$("",!0),!s.value&&!a.value&&(p.value||u.event.serverName)?(l(),y(nn,{key:1,class:"preview-card__footer","server-name":u.event.serverName,"origin-config":p.value},null,8,["server-name","origin-config"])):$("",!0)],10,_n))}}),q=k(vn,[["__scopeId","data-v-6fa77d96"]]),fn={class:"value-dump"},hn=["innerHTML"],gn=w({__name:"value-dump",props:{value:{},type:{default:""}},setup(e){var r;const t=e,s=Be(t.value)&&t.type==="string",n=((r=String(t.value).match(/(sf-dump-[0-9]+)/i))==null?void 0:r[0])||null,o=(()=>t.type==="boolean"?t.value==="1"?"true":"false":n?t.value.replace(/<(style|script)\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/(style|script)>/gi,""):s?`"${t.value}"`:t.value)();return Ce(()=>{const i=qe(window.document);n&&i(n)}),(i,p)=>(l(),m("div",fn,[c(s)?(l(),y(c(K),{key:0,language:"php",code:c(o)},null,8,["code"])):$("",!0),c(s)?$("",!0):(l(),m("div",{key:1,class:"value-dump__html",innerHTML:c(o)},null,8,hn))]))}}),H=k(gn,[["__scopeId","data-v-afb49de6"]]),yn={class:"preview-card__method"},wn={class:"preview-card__uri"},bn=w({__name:"preview-card",props:{event:{}},setup(e){const t=e,s=`/http-dumps/${t.event.id}`,n=decodeURI(t.event.payload.request.uri);return(a,o)=>{const r=Q;return l(),y(c(q),{class:"preview-card",event:a.event},{default:g(()=>[v(r,{tag:"div",to:s,class:"preview-card__link"},{default:g(()=>[d("span",yn,h(a.event.payload.request.method),1),S(": "),d("span",wn,"/"+h(c(n)),1)]),_:1})]),_:1},8,["event"])}}}),$n=k(bn,[["__scopeId","data-v-24a2d586"]]),kn=w({__name:"preview-card",props:{event:{}},setup(e){const t=e,s=P(()=>`/inspector/${t.event.id}`);return(n,a)=>{const o=Q;return l(),y(c(q),{class:"preview-card",event:n.event},{default:g(()=>[v(o,{to:s.value,class:"preview-card__link"},{default:g(()=>[v(Qe,{transaction:n.event.payload[0]},null,8,["transaction"])]),_:1},8,["to"])]),_:1},8,["event"])}}}),Cn=k(kn,[["__scopeId","data-v-cadf806c"]]),En=e=>{var s,n;const t=((n=(s=e.payload)==null?void 0:s.context)==null?void 0:n.source)||null;return{id:e.uuid,type:M.MONOLOG,labels:[M.MONOLOG],origin:t,serverName:"",date:e.timestamp?new Date(e.timestamp*1e3):null,payload:e.payload}},Pn=()=>({normalizeMonologEvent:En}),Sn=w({__name:"preview-card",props:{event:{}},setup(e){return(t,s)=>(l(),y(c(q),{class:"preview-card",event:t.event},{default:g(()=>[v(c(K),{class:"preview-card__snippet",code:t.event.payload.message},null,8,["code"]),t.event.payload.context?(l(),y(c(K),{key:0,class:"preview-card__snippet",language:"json",code:t.event.payload.context},null,8,["code"])):$("",!0),(l(!0),m(F,null,V(t.event.payload.extra,(n,a)=>(l(),y(c(K),{key:a,class:"preview-card__snippet",code:{[a]:n}},null,8,["code"]))),128))]),_:1},8,["event"]))}}),Ln=k(Sn,[["__scopeId","data-v-0daee61c"]]),Rn=w({__name:"preview-card",props:{event:{}},setup(e){const t=e,s=P(()=>`/profiler/${t.event.id}`);return(n,a)=>{const o=Q;return l(),y(c(q),{class:"profiler-preview",event:n.event},{default:g(()=>[v(o,{tag:"div",to:s.value,class:"profiler-preview__link"},{default:g(()=>[v(c(Ze),{cost:n.event.payload.peaks},null,8,["cost"])]),_:1},8,["to"])]),_:1},8,["event"])}}}),In=k(Rn,[["__scopeId","data-v-c4cbdaa2"]]);var I=(e=>(e.LOG="log",e.CUSTOM="custom",e.CALLER="caller",e.CARBON="carbon",e.EXCEPTION="exception",e.MEASURE="measure",e.NOTIFY="notify",e.MAILABLE="mailable",e.TABLE="table",e.TRACE="trace",e.QUERY="executed_query",e.APPLICATION_LOG="application_log",e.ELOQUENT="eloquent_model",e.VIEW="view",e.EVENT="event",e.JOB="job_event",e.LOCK="create_lock",e))(I||{});const xn=e=>{var r,i,p,E,C;let t={php_version:(r=e.payload.meta)==null?void 0:r.php_version,laravel_version:"",symfony_version:""};(i=e.payload.meta)!=null&&i.laravel_version?t.laravel_version=(p=e.payload.meta)==null?void 0:p.laravel_version:(E=e.payload.meta)!=null&&E.symfony_version&&(t.symfony_version=(C=e.payload.meta)==null?void 0:C.symfony_version),e.payload.payloads.forEach(f=>{f.origin&&(t={...t,...De(f.origin,["file","line_number","hostname"])})});const s=e.payload.payloads.filter(f=>f.type==="label").map(f=>{var L;return(L=f==null?void 0:f.content)==null?void 0:L.label}).filter(Boolean),n=e.payload.payloads.filter(f=>Object.values(I).includes(f.type)).map(f=>f.type).filter(Boolean),a=e.payload.payloads.filter(f=>f.type==="color").map(f=>{var L;return(L=f.content)==null?void 0:L.color}).filter(Boolean).shift()||"black",o=e.payload.payloads.filter(f=>f.type==="size").map(f=>{var L;return(L=f.content)==null?void 0:L.size}).filter(Boolean).shift()||"md";return{id:e.uuid,type:M.RAY_DUMP,labels:[M.RAY_DUMP,...s,...n].filter((f,L,N)=>N.indexOf(f)===L),origin:t,serverName:"",date:e.timestamp?new Date(e.timestamp*1e3):null,payload:e.payload,meta:{color:a,size:o}}},Tn=()=>({normalizeRayEvent:xn}),On=e=>(X("data-v-ecd0d089"),e=e(),Z(),e),Un={class:"ray-frame"},Mn=On(()=>d("h3",null,"Called from",-1)),zn=["href"],Bn={class:"ray-frame__code"},Dn=w({__name:"ray-frame",props:{frame:{}},setup(e){const t=e,s=P(()=>`phpstorm://open?file=${encodeURIComponent(t.frame.file_name)}&line=${t.frame.line_number}`);return(n,a)=>(l(),m("div",Un,[Mn,d("a",{class:"ray-frame__name",href:s.value},[d("code",Bn,h(n.frame.class||"null")+":"+h(n.frame.method),1)],8,zn)]))}}),An=k(Dn,[["__scopeId","data-v-ecd0d089"]]),Fn={class:"ray-carbon"},Vn=w({__name:"ray-carbone",props:{carbone:{}},setup(e){return(t,s)=>(l(),m("div",Fn,[v(c(Y),null,{default:g(()=>[v(c(O),{title:"Formatted"},{default:g(()=>[S(h(t.carbone.formatted),1)]),_:1}),v(c(O),{title:"Timezone"},{default:g(()=>[S(h(t.carbone.timezone),1)]),_:1}),v(c(O),{title:"Timestamp"},{default:g(()=>[S(h(t.carbone.timestamp),1)]),_:1})]),_:1})]))}}),jn=k(Vn,[["__scopeId","data-v-3067ea6d"]]),Hn=e=>(X("data-v-f7e2bc9b"),e=e(),Z(),e),qn={class:"ray-file__header"},Nn=["title"],Wn=Hn(()=>d("span",{class:"ray-file__title-in"},"at line",-1)),Gn={class:"ray-file__title-in"},Jn={key:0,class:"ray-file__body"},Kn={class:"ray-file__snippet-num"},Qn=w({__name:"ray-file",props:{file:{}},setup(e){const t=e,s=W(!0),n=P(()=>t.file.snippet?t.file.snippet.length>0:!1);return(a,o)=>(l(),m("div",{class:"ray-file",onClick:o[0]||(o[0]=r=>s.value=!s.value)},[d("div",qn,[d("div",{class:"ray-file__title",title:a.file.file_name},[d("div",null,[S(h(a.file.class||"null")+":"+h(a.file.method)+" ",1),Wn,S(" "+h(a.file.line_number),1)]),d("span",Gn,h(a.file.file_name),1)],8,Nn),n.value?(l(),y(c(D),{key:0,class:G(["ray-file__icon",{"ray-file__icon--collapsed":s.value}]),name:"collapsed"},null,8,["class"])):$("",!0)]),n.value&&!s.value?(l(),m("div",Jn,[(l(!0),m(F,null,V(a.file.snippet,r=>(l(),m("div",{key:r.line_number,class:G(["ray-file__snippet",{"ray-file__snippet--highlight":a.file.line_number===r.line_number}])},[d("div",Kn,h(r.line_number)+".",1),d("pre",null,h(r.text),1)],2))),128))])):$("",!0)]))}}),pe=k(Qn,[["__scopeId","data-v-f7e2bc9b"]]),Xn={class:"ray-exception"},Zn={class:"ray-exception__texts"},Yn={class:"ray-exception__texts-in"},es={class:"ray-exception__texts-code"},ts={class:"ray-exception__text"},ns={class:"ray-exception__files"},ss=w({__name:"ray-exception",props:{exception:{}},setup(e){return(t,s)=>(l(),m("div",Xn,[d("div",Zn,[d("h3",Yn,[d("code",es,h(t.exception.class),1)]),d("div",ts,h(t.exception.message),1)]),d("div",ns,[(l(!0),m(F,null,V(t.exception.frames,(n,a)=>(l(),y(c(pe),{key:a,file:n,collapsed:a!==0},null,8,["file","collapsed"]))),128))])]))}}),as=k(ss,[["__scopeId","data-v-b623b9b9"]]),os={class:"ray-trace"},rs=w({__name:"ray-trace",props:{frames:{}},setup(e){return(t,s)=>(l(),m("div",os,[(l(!0),m(F,null,V(t.frames,n=>(l(),y(c(pe),{key:`${n.file_name}-${n.line_number}`,file:n},null,8,["file"]))),128))]))}}),is=k(rs,[["__scopeId","data-v-a2a18ff8"]]),ls={class:"ray-origin"},cs=w({__name:"ray-origin",props:{origin:{}},setup(e){const t=e,s=P(()=>({file_name:t.origin.file,line_number:t.origin.line_number,class_name:"",function_name:""}));return(n,a)=>(l(),m("div",ls,[v(c(pe),{file:s.value},null,8,["file"])]))}}),us=k(cs,[["__scopeId","data-v-0841d3c8"]]),ds={class:"ray-measure"},ps={key:0,class:"ray-measure__title"},_s=w({__name:"ray-measure",props:{measure:{}},setup(e){const t=e,s=i=>(i/1e3).toFixed(4),n=(i,p="",E="")=>{if(!i)return"n/a";const C=["Bytes","KB","MB","GB","TB"],f=Math.min(Number(parseInt(String(Math.floor(Math.log(i)/Math.log(1024))),10)),C.length-1);return`${(i/1024**f).toFixed(2)}${p} ${C[f]}${E}`},a=P(()=>`${s(t.measure.total_time)} s`),o=P(()=>`${s(t.measure.time_since_last_call)} s`),r=P(()=>n(t.measure.max_memory_usage_during_total_time));return(i,p)=>(l(),m("div",ds,[i.measure.is_new_timer?(l(),m("h3",ps," Start measuring performance... ")):(l(),y(c(Y),{key:1},{default:g(()=>[v(c(O),{title:"Total time"},{default:g(()=>[S(h(a.value),1)]),_:1}),v(c(O),{title:"Time since last call"},{default:g(()=>[S(h(o.value),1)]),_:1}),v(c(O),{title:"Maximum memory usage"},{default:g(()=>[S(h(r.value),1)]),_:1})]),_:1}))]))}}),ms=k(_s,[["__scopeId","data-v-02cc1965"]]),vs={class:"ray-table"},fs=w({__name:"ray-table",props:{table:{}},setup(e){return(t,s)=>(l(),m("div",vs,[v(c(Y),null,{default:g(()=>[(l(!0),m(F,null,V(t.table.values,(n,a)=>(l(),y(c(O),{key:a,title:a},{default:g(()=>[v(c(H),{value:n},null,8,["value"])]),_:2},1032,["title"]))),128))]),_:1})]))}}),hs=k(fs,[["__scopeId","data-v-d4129261"]]),gs=e=>(X("data-v-eb328294"),e=e(),Z(),e),ys={class:"ray-mail"},ws={class:"ray-mail__collapsable"},bs=gs(()=>d("span",null,"HTML",-1)),$s={key:0,class:"ray-mail__body"},ks=["innerHTML"],Cs=w({__name:"ray-mail",props:{content:{}},setup(e){const t=W(!0),s=n=>(n.map(o=>`${o.name}[${o.email}]`)||[]).join(", ");return(n,a)=>(l(),m("div",ys,[v(c(Y),null,{default:g(()=>[n.content.subject?(l(),y(c(O),{key:0,title:"Subject"},{default:g(()=>[S(h(n.content.subject),1)]),_:1})):$("",!0),n.content.mailable_class?(l(),y(c(O),{key:1,title:"Mailable class"},{default:g(()=>[S(h(n.content.mailable_class),1)]),_:1})):$("",!0),n.content.from&&n.content.from.length>0?(l(),y(c(O),{key:2,title:"From"},{default:g(()=>[S(h(s(n.content.from)),1)]),_:1})):$("",!0),n.content.to&&n.content.to.length>0?(l(),y(c(O),{key:3,title:"To"},{default:g(()=>[S(h(s(n.content.to)),1)]),_:1})):$("",!0),n.content.cc&&n.content.cc.length>0?(l(),y(c(O),{key:4,title:"Cc"},{default:g(()=>[S(h(s(n.content.cc)),1)]),_:1})):$("",!0),n.content.bcc&&n.content.bcc.length>0?(l(),y(c(O),{key:5,title:"Bcc"},{default:g(()=>[S(h(s(n.content.bcc)),1)]),_:1})):$("",!0),n.content.reply_to&&n.content.reply_to.length>0?(l(),y(c(O),{key:6,title:"Reply to"},{default:g(()=>[S(h(s(n.content.reply_to)),1)]),_:1})):$("",!0)]),_:1}),d("div",ws,[d("h3",{class:"ray-mail__collapsable-header",onClick:a[0]||(a[0]=o=>t.value=!t.value)},[bs,v(c(D),{class:G(["ray-mail__icon",{"ray-mail__icon--collapsed":t.value}]),name:"collapsed"},null,8,["class"])]),t.value?$("",!0):(l(),m("div",$s,[d("div",{innerHTML:n.content.html},null,8,ks)]))])]))}}),Es=k(Cs,[["__scopeId","data-v-eb328294"]]),Ps={class:"ray-log"},Ss=w({__name:"ray-log",props:{log:{}},setup(e){return(t,s)=>(l(),m("div",Ps,[t.log?(l(),y(c(H),{key:0,value:String(t.log)},null,8,["value"])):$("",!0)]))}}),Ls=k(Ss,[["__scopeId","data-v-01326fa2"]]),Rs={class:"ray-view"},Is={class:"ray-view__title"},xs={class:"ray-view__code"},Ts=w({__name:"ray-view",props:{view:{}},setup(e){return(t,s)=>(l(),m("div",Rs,[d("h3",Is,[S(" View: "),d("code",xs,h(t.view.view_path_relative_to_project_root),1)]),v(c(H),{value:t.view.data},null,8,["value"])]))}}),Os=k(Ts,[["__scopeId","data-v-7e733e70"]]),Us={class:"ray-job"},Ms=w({__name:"ray-job",props:{content:{}},setup(e){return(t,s)=>(l(),m("div",Us,[v(c(H),{value:t.content.job},null,8,["value"])]))}}),zs=k(Ms,[["__scopeId","data-v-da487a97"]]),Bs={class:"ray-eloquent"},Ds={class:"ray-eloquent__title"},As={class:"ray-eloquent__title-in"},Fs=w({__name:"ray-eloquent",props:{content:{}},setup(e){return(t,s)=>(l(),m("div",Bs,[d("h3",Ds,[S(" Class name: "),d("code",As,h(t.content.class_name),1)]),v(c(H),{value:t.content.attributes},null,8,["value"])]))}}),Vs=k(Fs,[["__scopeId","data-v-199e8a0b"]]),js={class:"ray-query"},Hs=w({__name:"ray-query",props:{content:{}},setup(e){const t=e,s=P(()=>{var n,a;return(((n=t.content)==null?void 0:n.bindings)||[]).reduce((o,r)=>(o||"").replace(/\?/,`'${r}'`),((a=t.content)==null?void 0:a.sql)||"")});return(n,a)=>(l(),m("div",js,[v(c(K),{language:"sql",code:s.value},null,8,["code"]),v(c(Y),null,{default:g(()=>[v(c(O),{title:"Connection name"},{default:g(()=>[S(h(n.content.connection_name),1)]),_:1}),v(c(O),{title:"Time"},{default:g(()=>[S(h(n.content.time)+"ms ",1)]),_:1})]),_:1})]))}}),qs=k(Hs,[["__scopeId","data-v-4589a9b7"]]),Ns={class:"ray-event"},Ws={class:"ray-event__text"},Gs={class:"ray-event__text-in"},Js=w({__name:"ray-event",props:{content:{}},setup(e){return(t,s)=>(l(),m("div",Ns,[t.content.class_based_event?(l(),y(c(H),{key:0,value:t.content.event},null,8,["value"])):$("",!0),d("h3",Ws,[S(" Event: "),d("code",Gs,h(t.content.name),1)]),t.content.payload?(l(),y(c(H),{key:1,value:String(t.content.payload)},null,8,["value"])):$("",!0)]))}}),Ks=k(Js,[["__scopeId","data-v-abebf068"]]),re=e=>(X("data-v-b976e563"),e=e(),Z(),e),Qs={class:"ray-lock"},Xs=["disabled"],Zs=re(()=>d("span",{class:"ray-lock__button-icon"},[d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 20 20"},[d("path",{fill:"green","fill-rule":"evenodd",d:"M16.75 10.83L4.55 19A1 1 0 0 1 3 18.13V1.87A1 1 0 0 1 4.55 1l12.2 8.13a1 1 0 0 1 0 1.7z"})])],-1)),Ys=re(()=>d("span",null,"Continue",-1)),ea=[Zs,Ys],ta=["disabled"],na=re(()=>d("span",{class:"ray-lock__button-text"},null,-1)),sa=re(()=>d("span",null,"Stop execution",-1)),aa=[na,sa],oa=w({__name:"ray-lock",props:{name:{}},setup(e){const t=e,s=W(!1),n=()=>{s.value=!0,A().$rayExecution.continue(t.name)},a=()=>{s.value=!0,A().$rayExecution.stop(t.name)};return(o,r)=>(l(),m("div",Qs,[d("button",{disabled:s.value,class:"ray-lock__button ray-lock__button--continue",onClick:n},ea,8,Xs),d("button",{disabled:s.value,class:"ray-lock__button ray-lock__button--stop",onClick:a},aa,8,ta)]))}}),ra=k(oa,[["__scopeId","data-v-b976e563"]]),ia={class:"ray-custom"},la=w({__name:"ray-custom",props:{content:{}},setup(e){return(t,s)=>(l(),m("div",ia,[t.content.content?(l(),y(c(H),{key:0,value:t.content.content},null,8,["value"])):$("",!0)]))}}),ca=k(la,[["__scopeId","data-v-a00f2b56"]]),ua={class:"ray-application-log"},da=w({__name:"ray-application-log",props:{content:{}},setup(e){return(t,s)=>(l(),m("pre",ua,h(t.content.value),1))}}),pa=k(da,[["__scopeId","data-v-ae8ff9a7"]]),_a=w({__name:"preview-card",props:{event:{}},setup(e){const t=e,s=P(()=>{const{meta:o,...r}=t.event;return r}),n=P(()=>[`text-${t.event.meta.size}`,`text-${t.event.meta.color}-900 dark:text-${t.event.meta.color}-200`]),a={[I.LOG]:{view:Ls,getProps:o=>({log:o.content.values[0]})},[I.CUSTOM]:{view:ca,getProps:o=>({content:o.content})},[I.CALLER]:{view:An,getProps:o=>({frame:o.content.frame})},[I.CARBON]:{view:jn,getProps:o=>({carbone:o.content})},[I.TRACE]:{view:is,getProps:o=>({frames:o.content.frames})},[I.EXCEPTION]:{view:as,getProps:o=>({exception:o.content})},[I.TABLE]:{view:hs,getProps:o=>({table:o.content})},[I.MEASURE]:{view:ms,getProps:o=>({measure:o.content})},[I.QUERY]:{view:qs,getProps:o=>({content:o.content})},[I.ELOQUENT]:{view:Vs,getProps:o=>({content:o.content})},[I.APPLICATION_LOG]:{view:pa,getProps:o=>({content:o.content})},[I.VIEW]:{view:Os,getProps:o=>({view:o.content})},[I.EVENT]:{view:Ks,getProps:o=>({content:o.content})},[I.JOB]:{view:zs,getProps:o=>({content:o.content})},[I.LOCK]:{view:ra,getProps:o=>({name:o.content.name})},[I.MAILABLE]:{view:Es,getProps:o=>({content:o.content})},[I.NOTIFY]:{view:us,getProps:o=>({origin:o.origin})}};return(o,r)=>(l(),y(c(q),{class:"ray-dump-preview",event:s.value},{default:g(()=>[(l(!0),m(F,null,V(o.event.payload.payloads,i=>(l(),m(F,{key:`${i.type}-${i.origin?i.origin.line_number:""}`},[i.type&&a[i.type]?(l(),y(Ee(a[i.type].view),Ne({key:0},{...a[i.type].getProps(i)},{class:n.value}),null,16,["class"])):$("",!0)],64))),128))]),_:1},8,["event"]))}}),ma={class:"preview-card__title"},va=["innerHTML"],fa={key:1},ha=["innerHTML"],ga=w({__name:"preview-card",props:{event:{},maxFrames:{default:3}},setup(e){const t=e,s=P(()=>`/sentry/${t.event.id}`),n=P(()=>{var i,p,E;return((E=(p=(i=t.event)==null?void 0:i.payload)==null?void 0:p.exception)==null?void 0:E.values)||[]}),a=P(()=>n.value.length>0),o=P(()=>{var i;return((i=t.event.payload)==null?void 0:i.message)||""}),r=P(()=>n.value.length>0?n.value[0]:{type:"Unknown",value:"Something went wrong",stacktrace:{frames:[]}});return(i,p)=>{const E=Q;return l(),y(c(q),{class:"preview-card",event:i.event},{default:g(()=>[a.value?(l(),y(c(et),{key:0,exception:r.value,"max-frames":i.maxFrames},{default:g(()=>[v(E,{tag:"div",to:s.value,class:"preview-card__link"},{default:g(()=>[d("h3",ma,h(r.value.type),1),d("pre",{class:"preview-card__text",innerHTML:r.value.value},null,8,va)]),_:1},8,["to"])]),_:1},8,["exception","max-frames"])):$("",!0),o.value?(l(),m("div",fa,[v(E,{tag:"div",to:s.value,class:"preview-card__link"},{default:g(()=>[d("pre",{class:"preview-card__text",innerHTML:o.value},null,8,ha)]),_:1},8,["to"])])):$("",!0)]),_:1},8,["event"])}}}),ya=k(ga,[["__scopeId","data-v-e0d90242"]]),wa=e=>(X("data-v-254b10c7"),e=e(),Z(),e),ba={class:"smtp-preview__link-title"},$a={class:"smtp-preview__link-text"},ka=wa(()=>d("strong",null,"To:",-1)),Ca=w({__name:"preview-card",props:{event:{}},setup(e){const t=e,s=P(()=>ke(t.event.date).fromNow()),n=P(()=>`/smtp/${t.event.id}`);return(a,o)=>{const r=Q;return l(),y(c(q),{class:"smtp-preview",event:a.event},{default:g(()=>[v(r,{to:n.value,class:"smtp-preview__link"},{default:g(()=>[d("h3",ba,h(a.event.payload.subject),1),d("div",$a,[d("span",null,[ka,S(" "+h(a.event.payload.to[0].email),1)]),d("span",null,h(s.value),1)])]),_:1},8,["to"])]),_:1},8,["event"])}}}),Ea=k(Ca,[["__scopeId","data-v-254b10c7"]]),Pa=e=>({id:e.uuid,type:M.VAR_DUMP,labels:[M.VAR_DUMP],origin:{file:e.payload.context.source.file,name:e.payload.context.source.name,line_number:e.payload.context.source.line},serverName:"",date:e.timestamp?new Date(e.timestamp*1e3):null,payload:e.payload}),Sa=()=>({normalizeVarDumpEvent:Pa}),La=w({__name:"preview-card",props:{event:{}},setup(e){const t=e,s=P(()=>String(t.event.payload.payload.value));return(n,a)=>(l(),y(c(q),{class:"preview-card",event:n.event},{default:g(()=>[v(c(H),{value:s.value,type:n.event.payload.payload.type},null,8,["value","type"])]),_:1},8,["event"]))}}),Ra=k(La,[["__scopeId","data-v-4f26036b"]]),Ia=e=>({id:e.uuid,type:"unknown",labels:[e.type],origin:null,serverName:"",date:e.timestamp?new Date(e.timestamp*1e3):null,payload:e.payload}),xa=()=>({normalizeUnknownEvent:Ia}),Ta=w({__name:"preview-card-default",props:{event:{}},setup(e){return(t,s)=>(l(),y(c(q),{class:"event-card-fallback",event:t.event},{default:g(()=>[v(c(K),{class:"event-card-fallback__snippet",code:t.event},null,8,["code"])]),_:1},8,["event"]))}}),Oa=k(Ta,[["__scopeId","data-v-3b466fb9"]]),Ua=w({__name:"event-card",props:{event:{}},setup(e){const t=e,{normalizeRayEvent:s}=Tn(),{normalizeProfilerEvent:n}=Ye(),{normalizeVarDumpEvent:a}=Sa(),{normalizeMonologEvent:o}=Pn(),{normalizeSentryEvent:r}=tt(),{normalizeSmtpEvent:i}=nt(),{normalizeInspectorEvent:p}=Xe(),{normalizeHttpDumpEvent:E}=Ke(),{normalizeUnknownEvent:C}=xa(),f={[M.SENTRY]:{view:ya,normalize:r},[M.MONOLOG]:{view:Ln,normalize:o},[M.VAR_DUMP]:{view:Ra,normalize:a},[M.RAY_DUMP]:{view:_a,normalize:s},[M.SMTP]:{view:Ea,normalize:i},[M.PROFILER]:{view:In,normalize:n},[M.INSPECTOR]:{view:Cn,normalize:p},[M.HTTP_DUMP]:{view:$n,normalize:E},unknown:{view:Oa,normalize:C}},{view:L,normalize:N}=f[t.event.type];return(R,_)=>(l(),y(Ee(c(L)),{event:c(N)(R.event)},null,8,["event"]))}}),Ma={class:"page-placeholder-item"},za=["href"],Ba=w({__name:"page-placeholder-item",props:{iconName:{},title:{},linkUrl:{}},setup(e){return(t,s)=>(l(),m("li",Ma,[v(c(D),{name:t.iconName,class:"page-placeholder-item__icon"},null,8,["name"]),d("span",null,[d("a",{href:t.linkUrl,class:"page-placeholder-item__link",target:"_blank"},h(t.title),9,za)])]))}}),Da=k(Ba,[["__scopeId","data-v-50322198"]]),Aa={class:"page-placeholder"},Fa={class:"page-placeholder__list"},Va=w({__name:"page-placeholder",setup(e){const t=[{iconName:"github",title:"Github repository",linkUrl:"https://github.com/buggregator"},{iconName:"docs",title:"Documentation",linkUrl:"https://docs.buggregator.dev"},{iconName:"discord",title:"Join our discord",linkUrl:"https://discord.gg/vDsCD3EKUB"}];return(s,n)=>(l(),m("div",Aa,[d("ul",Fa,[(l(),m(F,null,V(t,a=>v(Da,{key:a.title,"icon-name":a.iconName,title:a.title,"link-name":a.linkName,"link-url":a.linkUrl},null,8,["icon-name","title","link-name","link-url"])),64))])]))}}),ja=k(Va,[["__scopeId","data-v-cf775fee"]]);var Ue={exports:{}};(function(e,t){(function(s,n){typeof Ae=="function"?e.exports=n():s.pluralize=n()})(We,function(){var s=[],n=[],a={},o={},r={};function i(_){return typeof _=="string"?new RegExp("^"+_+"$","i"):_}function p(_,b){return _===b?b:_===_.toLowerCase()?b.toLowerCase():_===_.toUpperCase()?b.toUpperCase():_[0]===_[0].toUpperCase()?b.charAt(0).toUpperCase()+b.substr(1).toLowerCase():b.toLowerCase()}function E(_,b){return _.replace(/\$(\d{1,2})/g,function(U,x){return b[x]||""})}function C(_,b){return _.replace(b[0],function(U,x){var u=E(b[1],arguments);return p(U===""?_[x-1]:U,u)})}function f(_,b,U){if(!_.length||a.hasOwnProperty(_))return b;for(var x=U.length;x--;){var u=U[x];if(u[0].test(b))return C(b,u)}return b}function L(_,b,U){return function(x){var u=x.toLowerCase();return b.hasOwnProperty(u)?p(x,u):_.hasOwnProperty(u)?p(x,_[u]):f(u,x,U)}}function N(_,b,U,x){return function(u){var T=u.toLowerCase();return b.hasOwnProperty(T)?!0:_.hasOwnProperty(T)?!1:f(T,T,U)===T}}function R(_,b,U){var x=b===1?R.singular(_):R.plural(_);return(U?b+" ":"")+x}return R.plural=L(r,o,s),R.isPlural=N(r,o,s),R.singular=L(o,r,n),R.isSingular=N(o,r,n),R.addPluralRule=function(_,b){s.push([i(_),b])},R.addSingularRule=function(_,b){n.push([i(_),b])},R.addUncountableRule=function(_){if(typeof _=="string"){a[_.toLowerCase()]=!0;return}R.addPluralRule(_,"$0"),R.addSingularRule(_,"$0")},R.addIrregularRule=function(_,b){b=b.toLowerCase(),_=_.toLowerCase(),r[_]=b,o[b]=_},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(_){return R.addIrregularRule(_[0],_[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(_){return R.addPluralRule(_[0],_[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(_){return R.addSingularRule(_[0],_[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(R.addUncountableRule),R})})(Ue);var Ha=Ue.exports;const Me=Ge(Ha),qa=["disabled"],Na=["title"],Wa=w({__name:"pause-button",props:{disabled:{type:Boolean},isPaused:{type:Boolean},totalNewEventsCount:{}},emits:["toggleUpdate"],setup(e,{emit:t}){const s=e,n=P(()=>Me("new event",s.totalNewEventsCount,!0)),a=()=>{t("toggleUpdate",!0)};return(o,r)=>(l(),m("button",{class:G(["events-page__btn-stop-events",{"events-page__btn-stop-events--active":o.isPaused}]),disabled:o.disabled,onClick:a},[o.isPaused?$("",!0):(l(),y(c(D),{key:0,name:"bolt",class:"events-page__btn-stop-events-icon"})),o.isPaused?(l(),y(c(D),{key:1,name:"bolt-slash",class:"events-page__btn-stop-events-icon"})):$("",!0),d("span",null,h(o.isPaused?"Paused":"Listening"),1),o.isPaused&&o.totalNewEventsCount?(l(),m("span",{key:2,class:"events-page__btn-stop-events-count",title:n.value},h(o.totalNewEventsCount),9,Na)):$("",!0)],10,qa))}});const Ga=k(Wa,[["__scopeId","data-v-a09b3a53"]]),Ja=w({components:{PagePlaceholder:ja,EventCard:Ua,PageHeader:Je,PauseButton:Ga},setup(){var e,t;{const{$events:s}=A();return(t=(e=s==null?void 0:s.items)==null?void 0:e.value)!=null&&t.length||s.getAll(),{events:s.items,title:"",type:ie.ALL_EVENTS}}},computed:{allEvents(){const{$events:e}=A();return this.type===ie.ALL_EVENTS?e.items.value:e.items.value.filter(({type:t})=>t===this.type)},isEventsPaused(){var t;const{$cachedEvents:e}=A();return((t=e.eventsIdsByType.value[this.type])==null?void 0:t.length)>0},visibleEvents(){if(!this.isEventsPaused)return this.allEvents;const{$cachedEvents:e}=A();return this.allEvents.filter(({uuid:t})=>{var s;return(s=e.eventsIdsByType.value[this.type])==null?void 0:s.includes(t)})},hiddenEventsCount(){return this.allEvents.length-this.visibleEvents.length},titleEventsCount(){return`${Me("new event",this.hiddenEventsCount,!0)}`}},methods:{clearEvents(){const{$events:e}=A();return this.type===ie.ALL_EVENTS?e.removeAll():e.removeByType(this.type)},toggleUpdate(){const{$cachedEvents:e}=A();this.isEventsPaused?e.runUpdatesByType(this.type):e.stopUpdatesByType(this.type)}}});const Ka={class:"events-page"},Qa=d("span",null," / ",-1),Xa={key:0,class:"events-page__events"},Za={key:1,class:"events-page__welcome"};function Ya(e,t,s,n,a,o){const r=Q,i=ee("PauseButton"),p=ee("PageHeader"),E=ee("EventCard"),C=ee("PagePlaceholder");return l(),m("div",Ka,[v(p,{class:"events-page__head","button-title":"Clear events",onDelete:e.clearEvents},{controls:g(()=>[v(i,{disabled:e.visibleEvents.length===0,"is-paused":e.isEventsPaused,"total-new-events-count":e.hiddenEventsCount,onToggleUpdate:e.toggleUpdate},null,8,["disabled","is-paused","total-new-events-count","onToggleUpdate"])]),default:g(()=>[v(r,{to:"/",disabled:!e.title},{default:g(()=>[S("Home")]),_:1},8,["disabled"]),e.title?(l(),m(F,{key:0},[Qa,v(r,{disabled:!0},{default:g(()=>[S(h(e.title),1)]),_:1})],64)):$("",!0)]),_:1},8,["onDelete"]),e.visibleEvents.length?(l(),m("main",Xa,[(l(!0),m(F,null,V(e.visibleEvents,f=>(l(),y(E,{key:f.uuid,event:f,class:"events-page__event"},null,8,["event"]))),128))])):$("",!0),e.visibleEvents.length?$("",!0):(l(),m("section",Za,[v(C,{class:"events-page__tips"})]))])}const po=k(Ja,[["render",Ya]]);export{po as default};
