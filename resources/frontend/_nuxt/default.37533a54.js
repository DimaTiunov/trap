import{d as V,J as $,x as w,c as k,A as L,o as d,a as u,b as l,f as e,w as c,u as o,t as S,e as A,h as m,l as P,k as W,_ as C,a1 as x,D as B,m as D}from"./entry.8cc9a0a4.js";import{_ as E}from"./layout-sidebar.vue.30b2544d.js";import{u as H}from"./file-attachment.vue.44781509.js";import{u as R}from"./use-events.46f9c63f.js";import{S as q}from"./dumper.11af9f7d.js";import{I as a}from"./icon-svg.07e61883.js";import{u as F}from"./settings.ce72d897.js";const J={class:"layout-sidebar"},M={class:"layout-sidebar__nav"},j={key:0,class:"layout-sidebar__profile"},z={key:0,class:"layout-sidebar__profile-dropdown"},G={class:"profile-dropdown-item profile-dropdown-item--email"},K=["src"],O={class:"layout-sidebar__connection"},Q={class:"layout-sidebar__versions"},U=["title"],X=["title"],Y=V({__name:"layout-sidebar",props:{apiVersion:{},clientVersion:{},profile:{}},setup(i){const n=i,f=P(),v=H(),{isConnectedWS:y}=$(v),_=w(),s=k(()=>y.value?"connected":"disconnected"),b=k(()=>{var t;return!n.profile||!((t=n.profile)!=null&&t.avatar)?null:n.profile.avatar.startsWith("<svg")?`data:image/svg+xml;base64,${btoa(n.profile.avatar.replace(/&quot;/g,'"'))}`:n.profile.avatar}),g=k(()=>`WS connection is ${s.value}`),p=L(!0),N=()=>{p.value=!p.value},T=async t=>{_.removeToken(),W().push("/login")};return(t,I)=>{var h;const r=E;return d(),u("aside",J,[l("nav",M,[e(r,{to:"/",title:"Events",class:"layout-sidebar__link"},{default:c(()=>[e(o(a),{class:"layout-sidebar__link-icon",name:"events"})]),_:1}),e(r,{to:"/sentry",title:"Sentry logs",class:"layout-sidebar__link"},{default:c(()=>[e(o(a),{class:"layout-sidebar__link-icon",name:"sentry"})]),_:1}),e(r,{to:"/profiler",title:"Profiler",class:"layout-sidebar__link"},{default:c(()=>[e(o(a),{class:"layout-sidebar__link-icon",name:"profiler"})]),_:1}),e(r,{to:"/smtp",title:"SMTP mails",class:"layout-sidebar__link"},{default:c(()=>[e(o(a),{class:"layout-sidebar__link-icon",name:"smtp"})]),_:1}),e(r,{to:"/http-dumps",title:"Http dumps",class:"layout-sidebar__link"},{default:c(()=>[e(o(a),{class:"layout-sidebar__link-icon",name:"http-dumps"})]),_:1}),e(r,{to:"/inspector",title:"Inspector logs",class:"layout-sidebar__link"},{default:c(()=>[e(o(a),{class:"layout-sidebar__link-icon",name:"inspector"})]),_:1}),e(r,{to:"/settings",title:"Settings",class:"layout-sidebar__link"},{default:c(()=>[e(o(a),{class:"layout-sidebar__link-icon",name:"settings"})]),_:1})]),l("div",null,[o(f).$appSettings.auth.enabled?(d(),u("div",j,[o(p)?m("",!0):(d(),u("div",z,[l("div",G,S((h=t.profile)==null?void 0:h.email),1),l("div",{class:"profile-dropdown-item profile-dropdown-item--logout",onClick:T},[e(o(a),{class:"profile-dropdown-item--logout-icon",name:"logout"}),A(" Logout ")])])),b.value?(d(),u("div",{key:1,class:"layout-sidebar__profile-avatar",onClick:N},[l("img",{src:b.value},null,8,K)])):m("",!0)])):m("",!0),l("div",O,[e(o(a),{class:"layout-sidebar__connection-icon",name:s.value,title:g.value},null,8,["name","title"])]),l("div",Q,[t.apiVersion?(d(),u("div",{key:0,class:"layout-sidebar__nav-version",title:`Api version: ${t.apiVersion}`},S(t.apiVersion),9,U)):m("",!0),t.clientVersion?(d(),u("div",{key:1,class:"layout-sidebar__nav-version",title:`Client version: ${t.clientVersion}`},S(t.clientVersion),9,X)):m("",!0)])])])}}}),Z=C(Y,[["__scopeId","data-v-e61552a6"]]),ee=V({components:{LayoutSidebar:Z},async setup(){var g,p;q(window.document);const i=F(),n=w(),{themeType:f,isFixedHeader:v}=$(i),{api:{getVersion:y}}=x(),_=await y(),{events:s}=R();(p=(g=s==null?void 0:s.items)==null?void 0:g.value)!=null&&p.length||s.getAll();const b="@dev";return{themeType:f,isFixedHeader:v,apiVersion:String(_).match(/^[0-9.]+.*$/)?`v${_}`:`@${_}`,clientVersion:b,profile:n.profile}}});const te={class:"main-layout"},oe={class:"main-layout__content"};function se(i,n,f,v,y,_){const s=D("LayoutSidebar");return d(),u("div",te,[e(s,{class:"main-layout__sidebar","api-version":i.apiVersion,"client-version":i.clientVersion,profile:i.profile},null,8,["api-version","client-version","profile"]),l("div",oe,[B(i.$slots,"default",{},void 0,!0)])])}const ue=C(ee,[["render",se],["__scopeId","data-v-c2ef8bce"]]);export{ue as default};
